<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bolão Piauizão PRO</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        .hidden {
            display: none
        }

        .bg-piauui {
            background: linear-gradient(135deg, #004d2c, #002d62)
        }

        .tab-active {
            border-bottom: 4px solid #facc15;
            color: #facc15
        }
    </style>
</head>

<body class="bg-gray-100 min-h-screen">

    <header class="bg-piauui text-white p-4 flex justify-between">
        <h1 class="font-black">PIAUIZÃO <span class="text-yellow-400">PRO</span></h1>
        <nav class="space-x-4">
            <button onclick="showSection('jogos')">Jogos</button>
            <button onclick="showSection('ranking')">Ranking</button>
            <button onclick="showSection('admin')">Admin</button>
        </nav>
    </header>

    <main class="p-6">

        <section id="section-jogos">
            <h2 class="text-2xl font-black">Jogos</h2>
        </section>

        <section id="section-ranking" class="hidden">
            <h2 class="text-2xl font-black">Ranking</h2>
        </section>

        <section id="section-admin" class="hidden">

            <!-- LOGIN -->
            <div id="admin-login" class="max-w-md mx-auto bg-white p-6 rounded shadow">
                <h2 class="font-black text-xl mb-4">Login Admin</h2>
                <input id="admin-pass" type="password" placeholder="Senha" class="w-full p-3 border rounded mb-4">
                <button onclick="loginAdmin()" class="bg-green-600 text-white w-full py-2 rounded font-black">
                    ENTRAR
                </button>
            </div>

            <!-- PAINEL -->
            <div id="admin-panel" class="hidden max-w-md mx-auto bg-white p-6 rounded shadow space-y-4">
                <h2 class="font-black text-xl">Painel Admin</h2>

                <input id="new-pass" type="password" placeholder="Nova senha" class="w-full p-3 border rounded">

                <button onclick="changePassword()" class="bg-blue-600 text-white w-full py-2 rounded font-black">
                    ALTERAR SENHA
                </button>

                <button onclick="logoutAdmin()" class="bg-red-600 text-white w-full py-2 rounded font-black">
                    SAIR
                </button>
            </div>

        </section>
    </main>

    <div id="notif" class="fixed bottom-4 right-4"></div>

    <script>
        /* ================= ADMIN LOCAL ================= */

        const DEFAULT_PASS = "admin123";

        if (!localStorage.getItem("adminPass")) {
            localStorage.setItem("adminPass", DEFAULT_PASS);
        }

        function loginAdmin() {
            const pass = document.getElementById("admin-pass").value;
            if (pass === localStorage.getItem("adminPass")) {
                localStorage.setItem("isAdmin", "true");
                notify("Bem-vindo, admin!");
                refreshAdmin();
            } else {
                notify("Senha incorreta", "error");
            }
        }

        function logoutAdmin() {
            localStorage.removeItem("isAdmin");
            refreshAdmin();
        }

        function changePassword() {
            const newPass = document.getElementById("new-pass").value;
            if (newPass.length < 4) return notify("Senha muito curta", "error");
            localStorage.setItem("adminPass", newPass);
            notify("Senha alterada com sucesso!");
        }

        function refreshAdmin() {
            const isAdmin = localStorage.getItem("isAdmin") === "true";
            document.getElementById("admin-login").classList.toggle("hidden", isAdmin);
            document.getElementById("admin-panel").classList.toggle("hidden", !isAdmin);
        }

        function showSection(id) {
            document.querySelectorAll("section").forEach(s => s.classList.add("hidden"));
            document.getElementById("section-" + id).classList.remove("hidden");
            if (id === "admin") refreshAdmin();
        }

        function notify(msg, type = "success") {
            const n = document.createElement("div");
            n.className = `p-3 mb-2 rounded text-white ${type==="error"?"bg-red-600":"bg-green-600"}`;
            n.innerText = msg;
            document.getElementById("notif").appendChild(n);
            setTimeout(() => n.remove(), 3000);
        }

        showSection("jogos");
    </script>

</body>

</html>
